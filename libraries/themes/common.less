/*
 * Copyright (C) 2009-2023 Lemoine Automation Technologies
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/*****************************************************
* FUNCTIONAL COLORS - to use in Pulse Web components *
******************************************************/

// Running / Idle
@running_color: @color_green;
@idle_color: @color_red;

// Efficiency
@bad_efficiency_base: @color_red;
@bad_efficiency_base_contrasted_color: @color_text;
@mid_efficiency_base: @color_orange;
@mid_efficiency_base_contrasted_color: @color_text; // Text on previous
@bad_efficiency_alternate_background: @color_yellow;

// Warning : main=background + contrasted=text OR main=text + ignored
@warn_main_color: @color_orange;
@warn_contrasted_color: @color_highlight_contrasted;

// Error : main=background + contrasted=text OR main=text + ignored
@error_main_color: @color_red;
@error_contrasted_color: @color_text;

// Missing value (LastXXXBars in pulse-cellbar-cell-missing + current icons)
@color_missing_value_fade: fade(@color_purple, 50%);
@color_missing_value_highlight: @color_purple;
@color_missing_text : @color_white;

@bar_rounded_border: rgba(0, 0, 0, 0.3);


/***************
* COMMON STYLE *
***************/

@cellbar-corner-radius: 4px;

// SVG transition and colors
.create_svg(@svgName, @baseColor: @color_text, @hoverColor: @color_highlight) {
  background-image: url('@{imagedir}/@{svgName}.svg');
  background-repeat: no-repeat;

  svg {
    height: 100%;
    width: 100%;
    stroke: @baseColor;
    fill: @baseColor;
    color: @baseColor; // to use currentColor
    //transition: stroke 0.3s ease-in-out, fill 0.3s ease-in-out; // AVOID ! Chrome errors
    transition-property: transform, fill;
  }

  &:hover svg {
    stroke: @hoverColor;
    fill: @hoverColor;
    color: @hoverColor; // to use currentColor
  }

  &:disabled svg {
    stroke: @baseColor;
    fill: @baseColor;
    color: @baseColor; // to use currentColor
    opacity: 0.5;
  }
}

.create_svg_nostroke(@svgName, @baseColor: @color_text, @hoverColor: @color_highlight) {
  background-image: url('@{imagedir}/@{svgName}.svg');
  background-repeat: no-repeat;

  svg {
    height: 100%;
    width: 100%;

    fill: @baseColor;
    color: @baseColor; // to use currentColor
    transition: stroke 0.3s ease-in-out, fill 0.3s ease-in-out;
  }
  &:hover svg {
    fill: @hoverColor;
    color: @hoverColor; // to use currentColor
  }
  &:disabled svg {
    fill: @baseColor;
    color: @baseColor; // to use currentColor
    opacity: 0.5;
  }
}

// use parent's color
.create_svg_simple(@svgName) {
  background-image: url('@{imagedir}/@{svgName}.svg');
  background-repeat: no-repeat;

  svg {
    height: 100%;
    width: 100%;
    transition: stroke 0.3s ease-in-out, fill 0.3s ease-in-out;
  }
  /*&:hover svg {
    fill: @hoverColor;
    color: @hoverColor; // to use currentColor
  }*/
  &:disabled svg {
    opacity: 0.5;
  }
}

// use parent's color + allow hover
.create_svg_hover(@svgName, @hoverColor: @color_highlight) {
  background-image: url('@{imagedir}/@{svgName}.svg');
  background-repeat: no-repeat;

  svg {
    height: 100%;
    width: 100%;
    transition: stroke 0.3s ease-in-out, fill 0.3s ease-in-out;
  }
  &:hover svg {
    color: @hoverColor; // to use currentColor
  }
  &:disabled svg {
    opacity: 0.5;
  }
}

.button-rounded-shadow {
  position: relative;
  border-radius: @cellbar-corner-radius;
  overflow: hidden;

  font-weight: bold;

  background-color: @input_background_color;
  color: @input_color_bold;
  border: 1px solid @input_border_color;

  &:hover {
    background-color: @input_background_color_hover;
    color: @input_color_bold;
    border: 1px solid @input_border_color;
  }

  &:disabled {
    background-color: @input_background_color_hover;
    cursor: not-allowed;
    pointer-events: none;
  }

  &::after {
    content: ""; // TMP remove to allow CLICK
    display: block;
    position: absolute;
    pointer-events: none; // to allow click through 
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 10px @bar_rounded_border;
    border-radius: 3px;
  }
}

// bar : rounded + shadow
.bar-rounded-shadow {
  position: relative;
  background-color: @widget_background;
  color: @widget_text;

  a {
    color: @widget_text;
  }

  border-radius: @cellbar-corner-radius;
  overflow: hidden;

  &::after {
    content: ""; // TMP remove to allow CLICK
    display: block;
    position: absolute;
    pointer-events: none; // to allow click through 
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 10px @bar_rounded_border;
    border-radius: 3px;
  }
}